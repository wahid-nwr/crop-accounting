!function($,lang,util,undefined){var overrideScrollParent$,zIndex=300;$.widget("apex.stickyWidget",{version:"5.0",widgetEventPrefix:"stickyWidget",stuck:!1,stuckToBottom:!1,cssWidth:0,cssHeight:0,unstuckWidth:0,unstuckHeight:0,options:{zIndexStart:-1,toggleHeight:!1,toggleWidth:!1,top:function(){return apex.theme.defaultStickyTop()},bottom:function(){var parent$=$(this.element).parent(),top=parent$.offset().top;return this.isWindow||(top-=this.scrollParent$.offset().top-this.scrollParent$.scrollTop()),top+parent$.outerHeight()},stickToBottom:!1,onStick:function(){},onUnstick:function(){},useWindow:!0},_stickToBottom:function(){if(!this.stuckToBottom){this.stuckToBottom=!0;var element=this.element,bottom=this.options.bottom.call(this),top=element.parent().parent().offset().top;this.isWindow||(top-=this.scrollParent$.offset().top-this.scrollParent$.scrollTop()-this.options.top());var height=element.outerHeight(),newTop=bottom-top-height;element.css("top",newTop),element.css("position","absolute")}},_unstickFromBottom:function(){this.stuckToBottom&&(this.stuckToBottom=!1,this.stuck?(this.stuck=!1,this._stick()):(this.stuck=!0,this._unstick()))},_stick:function(){if(!this.stuck){var element=this.element;element.addClass("is-stuck"),this.redoTop(!0),this.stuck=!0,this.options.toggleHeight&&element.css("height",this.unstuckHeight),this.options.toggleWidth&&element.css("width",this.unstuckWidth),this.options.onStick()}},_unstick:function(){if(this.stuck){var element=this.element;element.removeClass("is-stuck"),element.css("position","absolute"),element.css("top","auto"),this.stuck=!1,this._revertToCssWidthAndHeight(),this._recalculateFixedStuckDimensions(),this.options.onUnstick()}},_revertToCssWidthAndHeight:function(){this.options.toggleHeight&&this.element.css("height",this.cssHeight),this.options.toggleWidth&&this.element.css("width",this.cssWidth)},redoTop:function(force){(this.stuck&&!this.stuckToBottom||force)&&this.element.css("position","fixed").css("top",this.options.top())},forceScrollParent:function(newScrollParent$){this._destroy.call(this),overrideScrollParent$=newScrollParent$&&newScrollParent$.length>0?newScrollParent$:null,this.stuck=!1,this._create.call(this)},_recalculateFixedStuckDimensions:function(){this.stuck||(this.unstuckWidth=this.element.outerWidth(),this.unstuckHeight=this.element.outerHeight())},_setupDimensions:function(){this._revertToCssWidthAndHeight(),this.replacement.css("width",this.element.outerWidth()).css("height",this.element.outerHeight())},refresh:function(){},handler:null,replacement:null,_deferCreate:function(){var o=this.options,replacement=this.replacement=$("<div></div>"),element=this.element;overrideScrollParent$?this.scrollParent$=overrideScrollParent$:(this.scrollParent$=element.scrollParent(),o.useWindow&&(this.scrollParent$=$(window)));var isWindow=this.isWindow=this.scrollParent$[0]===window,scrollParent$=this.scrollParent$;element.addClass("js-stickyWidget-toggle"),-1==o.zIndexStart?this.zIndex=zIndex++:this.zIndex=o.zIndexStart,element.css("z-index",this.zIndex),replacement.insertAfter(element);var me=this;this._recalculateFixedStuckDimensions(),this.cssHeight=element.css("height"),this.cssWidth=element.css("width"),this._setupDimensions(),this.scrollHandler=function(){var offset=scrollParent$.scrollTop()+o.top();if(o.stickToBottom){var bottom=offset+element.outerHeight(),stick=o.bottom.call(me);if(bottom>=stick)return void me._stickToBottom.call(me);me._unstickFromBottom.call(me)}var replacementTop=replacement.offset().top;isWindow||(replacementTop+=scrollParent$.scrollTop()),offset>=replacementTop?me._stick():replacementTop>offset&&me._unstick()},this.refresh=this.resizeHandler=function(){me._destroy.call(me),me.stuck=!1,me._create.call(me)},scrollParent$.on("scroll",this.scrollHandler),$(window).on("apexwindowresized",this.resizeHandler),element.on("forceresize",this.resizeHandler),element.css("position","absolute"),element.css("top","auto"),this.scrollHandler()},_createDebouncer:null,_create:function(){var me=this;this._createDebouncer&&clearTimeout(this._createDebouncer),this._createDebouncer=setTimeout(function(){me._deferCreate.call(me)},500)},_destroy:function(){this.scrollParent$.off("scroll",this.scrollHandler),$(window).off("apexwindowresized",this.resizeHandler),this.element.off("forceresize",this.resizeHandler),this.replacement.remove(),this.element.removeAttr("style")}})}(apex.jQuery,apex.lang,apex.util);